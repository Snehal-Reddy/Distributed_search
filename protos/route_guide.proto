syntax = "proto3";

service QueryNode {
	rpc AskQuery(Query) returns (stream Result) {}
	rpc AddDocuments(stream Document) returns (Status) {} 
}

service DataNode {
	
	rpc AskQuery(Query)	returns (stream Result) {}
	rpc WriteRequest(stream Document) returns (Status) {}
	rpc WriteReply(Status) returns (Status) {}
}

message Query
{
	string query=1;
}

message Result
{
	int32 docid=1;
	string title=2;
}

message Status
{
	string content=1;
}

message Document
{
	int32 docid=1;
	string title=2;
	string content=3;
}